(self.webpackChunksnake_label=self.webpackChunksnake_label||[]).push([[260],{680:(e,t,n)=>{"use strict";var a=n(757),r=n.n(a),o=n(716),i=n(495),d=n(299);function l(e,t,n,a,r,o,i){try{var d=e[o](i),l=d.value}catch(e){return void n(e)}d.done?t(l):Promise.resolve(l).then(a,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){l(o,a,r,i,d,"next",e)}function d(e){l(o,a,r,i,d,"throw",e)}i(void 0)}))}}d.GlobalWorkerOptions.workerSrc="./dist/pdf.worker.min.js";var s=n(729),u=!1;console.log("Application loaded. debug =",u);var p,f,g=document.getElementById("view");function w(){return(w=c(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,s(t,document.getElementById("file-input").files[0].name.replace(".pdf","")+"-Label.pdf","application/pdf");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return m.apply(this,arguments)}function m(){return(m=c(r().mark((function e(){var t,n,a,o,d,l,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){return 72*e/300},l=function(e){return.03937007874*e*72},e.next=4,i.PDFDocument.create();case 4:return t=e.sent,n=c(p.width)+l(6),a=l(62),o=t.addPage([n,a]),e.next=9,t.embedPng(f);case 9:return d=e.sent,o.drawImage(d,{x:l(3),y:l(1.5),width:n-l(6),height:a-l(3)}),e.abrupt("return",t.save());case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){p=(0,o.Z)(document.getElementById("label-type").value);var e=new FileReader;console.log("Reading file."),e.readAsArrayBuffer(document.getElementById("file-input").files[0]),e.onload=function(){var t=c(r().mark((function t(n){var a,o,i,l,c,s,u,w;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.getDocument)(e.result).promise;case 2:return a=t.sent,console.log("PDF loaded.",a),t.next=6,a.getPage(p.file.page);case 6:return o=t.sent,i=document.createElement("canvas"),l=o.getViewport({scale:4,rotation:p.file.rotation}),i.width=l.width,i.height=l.height,t.next=12,o.render({canvasContext:i.getContext("2d"),viewport:l}).promise;case 12:return c=new Image,s=new Promise((function(e){return c.onload=e})),c.src=i.toDataURL(),t.next=17,s;case 17:return t.next=19,new Promise((function(e){return setTimeout(e,100)}));case 19:u=document.createElement("canvas"),w=u.getContext("2d"),u.width=p.width,u.height=696,w.fillStyle="white",w.fillRect(0,0,u.width,u.height),w.strokeStyle="black",w.lineWidth=2,p.crop(u,w,c),console.log("Label cropped."),g.src=u.toDataURL(),g.hidden=!0,downloadLabel.disabled=downloadLabelIMG.disabled=!0,u.toBlob((function(e){var t=new FileReader;t.addEventListener("loadend",(function(){f=t.result,g.hidden=!1,downloadLabel.disabled=downloadLabelIMG.disabled=!1})),t.readAsArrayBuffer(e)}),"image/png"),console.log("Finished.");case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}convertLabel.addEventListener("click",v,!1),downloadLabel.addEventListener("click",(function(){return w.apply(this,arguments)}),!1),downloadLabelIMG.addEventListener("click",(function(){s(f,document.getElementById("file-input").files[0].name.replace(".pdf","")+"-Label.png","image/png")}),!1)},716:(e,t,n)=>{"use strict";function a(e){switch(e){case"dhl-privat":return r;case"dhl-privat-international":return o;default:console.error("Unknown label type.")}}n.d(t,{Z:()=>a});var r={file:{type:"pdf",page:1,rotation:90},width:1606,crop:function(e,t,n){t.drawImage(n,1964,108,1124,92,0,12,890,73),t.drawImage(n,1964,210,785,625,0,95,580,465);var a=296;t.drawImage(n,2763,215,a,a,594,95,a,a),t.rotate(-Math.PI/2),t.drawImage(n,3075,240,20,190,-395,647,-20,190),t.rotate(Math.PI/2),t.drawImage(n,1964,933,1124,152,0,565,890,120),t.beginPath(),t.moveTo(910,12),t.lineTo(910,e.height-12),t.stroke();var r=676,o=320;t.drawImage(n,2198,1526,r,o,930,20,r,o),t.drawImage(n,2198,1940,r,o,930,364,r,o)}},o={file:{type:"pdf",page:1,rotation:90},width:1866,crop:function(e,t,n){t.drawImage(n,1964,108,1124,92,0,12,890,73),t.drawImage(n,1964,210,785,625,0,95,580,465);var a=296;t.drawImage(n,2763,215,a,a,594,95,a,a),t.rotate(-Math.PI/2),t.drawImage(n,3075,240,20,190,-395,647,-20,190),t.rotate(Math.PI/2),t.drawImage(n,2770,740,300,35,590,520,300,35),t.drawImage(n,1964,933,1124,152,0,565,890,120),t.beginPath(),t.moveTo(910,12),t.lineTo(910,e.height-12),t.stroke();var r=936,o=280;t.drawImage(n,1964,1422,r,70,930,15,r,70),t.drawImage(n,2068,1634,r,o,930,100,r,o),t.drawImage(n,2068,2048,r,o,930,404,r,o)}}},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[660],(()=>(t(680),t(716))));e.O()}]);