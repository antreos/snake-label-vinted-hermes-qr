(self.webpackChunksnake_label=self.webpackChunksnake_label||[]).push([[260],{680:(e,t,a)=>{"use strict";var n=a(757),r=a.n(n),o=a(716),i=a(495),d=a(299);function c(e,t,a,n,r,o,i){try{var d=e[o](i),c=d.value}catch(e){return void a(e)}d.done?t(c):Promise.resolve(c).then(n,r)}function s(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){c(o,n,r,i,d,"next",e)}function d(e){c(o,n,r,i,d,"throw",e)}i(void 0)}))}}d.GlobalWorkerOptions.workerSrc="./dist/pdf.worker.min.js";var l=a(729),u=!1;console.log("Application loaded. debug =",u);var g,h,m=document.getElementById("view");function w(){return(w=s(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,l(t,document.getElementById("file-input").files[0].name.replace(".pdf","")+"-Label.pdf","application/pdf");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=s(r().mark((function e(){var t,a,n,o,d,c,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){return 72*e/300},c=function(e){return.03937007874*e*72},e.next=4,i.PDFDocument.create();case 4:return t=e.sent,a=s(g.width)+c(6),n=c(62),o=t.addPage([a,n]),e.next=9,t.embedPng(h);case 9:return d=e.sent,o.drawImage(d,{x:c(3),y:c(1.5),width:a-c(6),height:n-c(3)}),e.abrupt("return",t.save());case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){g=(0,o.Z)(document.getElementById("label-type").value);var e=new FileReader;console.log("Reading file."),e.readAsArrayBuffer(document.getElementById("file-input").files[0]),e.onload=function(){var t=s(r().mark((function t(a){var n,o,i,c,s,l,u,w;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.getDocument)(e.result).promise;case 2:return n=t.sent,console.log("PDF loaded.",n),t.next=6,n.getPage(g.file.page);case 6:return o=t.sent,i=document.createElement("canvas"),c=o.getViewport({scale:4,rotation:g.file.rotation}),i.width=c.width,i.height=c.height,t.next=12,o.render({canvasContext:i.getContext("2d"),viewport:c}).promise;case 12:return s=new Image,l=new Promise((function(e){return s.onload=e})),s.src=i.toDataURL(),t.next=17,l;case 17:return t.next=19,new Promise((function(e){return setTimeout(e,100)}));case 19:u=document.createElement("canvas"),w=u.getContext("2d"),u.width=g.width,u.height=696,w.fillStyle="white",w.fillRect(0,0,u.width,u.height),w.strokeStyle="black",w.lineWidth=2,g.crop(u,w,s),console.log("Label cropped."),m.src=u.toDataURL(),m.hidden=buttons.hidden=!0,u.toBlob((function(e){var t=new FileReader;t.addEventListener("loadend",(function(){h=t.result,m.hidden=buttons.hidden=!1})),t.readAsArrayBuffer(e)}),"image/png"),console.log("Finished.");case 31:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}convertLabel.addEventListener("click",v,!1),downloadLabel.addEventListener("click",(function(){return w.apply(this,arguments)}),!1),downloadLabelIMG.addEventListener("click",(function(){l(h,document.getElementById("file-input").files[0].name.replace(".pdf","")+"-Label.png","image/png")}),!1)},716:(e,t,a)=>{"use strict";function n(e){switch(e){case"dhl-privat":return r;case"dhl-privat-international":return o;case"dhl-retoure":return i;case"hermes-privat-v102":return d;default:console.error("Unknown label type.")}}a.d(t,{Z:()=>n});var r={file:{type:"pdf",page:1,rotation:90},width:1606,crop:function(e,t,a){t.drawImage(a,1964,108,1124,92,0,12,890,73),t.drawImage(a,1964,210,785,625,0,95,580,465);var n=296;t.drawImage(a,2763,215,n,n,594,95,n,n),t.rotate(-Math.PI/2),t.drawImage(a,3075,240,20,190,-395,647,-20,190),t.rotate(Math.PI/2),t.drawImage(a,1964,933,1124,152,0,565,890,120),t.beginPath(),t.moveTo(910,12),t.lineTo(910,e.height-12),t.stroke();var r=676,o=320;t.drawImage(a,2198,1526,r,o,930,20,r,o),t.drawImage(a,2198,1940,r,o,930,364,r,o)}},o={file:{type:"pdf",page:1,rotation:90},width:1866,crop:function(e,t,a){t.drawImage(a,1964,108,1124,92,0,12,890,73),t.drawImage(a,1964,210,785,625,0,95,580,465);var n=296;t.drawImage(a,2763,215,n,n,594,95,n,n),t.rotate(-Math.PI/2),t.drawImage(a,3075,240,20,190,-395,647,-20,190),t.rotate(Math.PI/2),t.drawImage(a,2770,740,300,35,590,520,300,35),t.drawImage(a,1964,933,1124,152,0,565,890,120),t.beginPath(),t.moveTo(910,12),t.lineTo(910,e.height-12),t.stroke();var r=936,o=280;t.drawImage(a,1964,1422,r,70,930,15,r,70),t.drawImage(a,2068,1634,r,o,930,100,r,o),t.drawImage(a,2068,2048,r,o,930,404,r,o)}},i={file:{type:"pdf",page:1,rotation:90},width:1630,crop:function(e,t,a){t.drawImage(a,2020,85,500,70,0,12,450,63),t.drawImage(a,2780,85,250,70,425,12,225,63),t.drawImage(a,2020,162,720,200,0,90,648,180),t.drawImage(a,2020,435,720,270,0,280,648,243),t.beginPath(),t.moveTo(0,580),t.lineTo(650,580),t.stroke(),t.drawImage(a,2020,745,720,110,0,590,648,99),t.beginPath(),t.moveTo(665,12),t.lineTo(665,e.height-12),t.stroke();var n=950,r=240;t.drawImage(a,2030,1230,n,120,680,15,n,120),t.drawImage(a,2030,1460,n,r,680,180,n,r),t.drawImage(a,2030,1810,n,r,680,440,n,r)}},d={file:{type:"pdf",page:1,rotation:0},width:1701,crop:function(e,t,a){t.drawImage(a,185,180,915,45,20,20,915,45),t.drawImage(a,200,1115,770,350,20,80,770,350),t.drawImage(a,1625,165,485,80,40,460,364,60),t.drawImage(a,1100,280,350,95,130,540,313,85),t.rotate(Math.PI/2),t.drawImage(a,2140,350,70,1020,650,-20,35,-510),t.rotate(-Math.PI/2),t.drawImage(a,1100,425,580,260,810,100,493,221),t.drawImage(a,780,870,250,220,560,370,225,198),t.drawImage(a,1100,865,580,260,810,370,493,221),t.drawImage(a,1100,1245,580,40,810,630,493,34),t.drawImage(a,1850,1325,230,140,645,600,138,84),t.drawImage(a,1640,1330,110,140,560,600,66,84),t.drawImage(a,210,370,370,640,1320,28,370,640),t.lineWidth=4,t.beginPath(),t.moveTo(0,2),t.lineTo(this.width,2),t.stroke(),t.beginPath(),t.moveTo(0,e.height-2),t.lineTo(this.width,e.height-2),t.stroke(),t.beginPath(),t.moveTo(2,4),t.lineTo(2,e.height-4),t.stroke(),t.beginPath(),t.moveTo(this.width-2,4),t.lineTo(this.width-2,e.height-4),t.stroke()}}},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[660],(()=>(t(680),t(716))));e.O()}]);