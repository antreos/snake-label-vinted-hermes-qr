"use strict";(self.webpackChunksnake_label=self.webpackChunksnake_label||[]).push([[260],{680:(e,t,n)=>{var a=n(757),r=n.n(a),o=n(495);function i(e,t,n,a,r,o,i){try{var d=e[o](i),c=d.value}catch(e){return void n(e)}d.done?t(c):Promise.resolve(c).then(a,r)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function d(e){i(o,a,r,d,c,"next",e)}function c(e){i(o,a,r,d,c,"throw",e)}d(void 0)}))}}var c,u=n(729),l=document.getElementById("view"),s=null;function f(){return(f=d(r().mark((function e(){var t,n,a,i,d,l,f,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(e){return 72*e/300},f=function(e){return.03937007874*e*72},e.next=4,o.PDFDocument.create();case 4:return t=e.sent,n=h(c.width)+f(6),a=f(62),i=t.addPage([n,a]),e.next=9,t.embedPng(s);case 9:return d=e.sent,i.drawImage(d,{x:f(3),y:f(1.5),width:n-f(6),height:a-f(3)}),e.next=13,t.save();case 13:l=e.sent,u(l,document.getElementById("pdfFile").files[0].name.replace(".pdf","")+"-Label.pdf","application/pdf");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}convertLabel.addEventListener("click",(function(){c=function(){switch(document.getElementById("label-type").value){case"dhl-privat":return h;case"dhl-privat-international":return w}}();var e=new FileReader;console.log("reading file"),e.onload=function(){var t=d(r().mark((function t(n){var a,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:PDFJS.getDocument(e.result).promise.then((function(e){return console.log("doc=",e),e.getPage(1)})).then((function(e){return a=document.createElement("canvas"),o=e.getViewport(4,90),a.width=o.width,a.height=o.height,e.render({canvasContext:a.getContext("2d"),viewport:o}).then((function(e){return o}))})).then(function(){var e=d(r().mark((function e(t){var n,o,i,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Image,o=new Promise((function(e){return n.onload=e})),n.src=a.toDataURL(),e.next=5,o;case 5:return e.next=7,new Promise((function(e){return setTimeout(e,100)}));case 7:i=document.createElement("canvas"),d=i.getContext("2d"),i.width=c.width,i.height=696,d.fillStyle="white",d.fillRect(0,0,i.width,i.height),d.strokeStyle="black",d.lineWidth=2,c.crop(i,d,n),l.src=i.toDataURL(),l.hidden=!0,downloadLabel.disabled=downloadLabelIMG.disabled=!0,i.toBlob((function(e){var t=new FileReader;t.addEventListener("loadend",(function(){s=t.result,l.hidden=!1,downloadLabel.disabled=downloadLabelIMG.disabled=!1})),t.readAsArrayBuffer(e)}),"image/png");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.readAsArrayBuffer(document.getElementById("pdfFile").files[0])}),!1),downloadLabel.addEventListener("click",(function(){return f.apply(this,arguments)}),!1),downloadLabelIMG.addEventListener("click",(function(){u(s,document.getElementById("pdfFile").files[0].name.replace(".pdf","")+"-Label.png","image/png")}),!1);var h={width:1606,crop:function(e,t,n){return d(r().mark((function a(){var o,i,d;return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.drawImage(n,1964,108,1124,92,0,12,890,73),t.drawImage(n,1964,210,785,625,0,95,580,465),o=296,t.drawImage(n,2763,215,o,o,594,95,o,o),t.rotate(-Math.PI/2),t.drawImage(n,3075,240,20,190,-395,647,-20,190),t.rotate(Math.PI/2),t.drawImage(n,1964,933,1124,152,0,565,890,120),t.beginPath(),t.moveTo(910,12),t.lineTo(910,e.height-12),t.stroke(),i=676,d=320,t.drawImage(n,2198,1526,i,d,930,20,i,d),t.drawImage(n,2198,1940,i,d,930,364,i,d);case 15:case"end":return a.stop()}}),a)})))()}},w={width:1870,crop:function(e,t,n){t.drawImage(n,1964,108,1124,92,0,12,890,73),t.drawImage(n,1964,210,785,625,0,95,580,465);var a=296;t.drawImage(n,2763,215,a,a,594,95,a,a),t.rotate(-Math.PI/2),t.drawImage(n,3075,240,20,190,-395,647,-20,190),t.rotate(Math.PI/2),t.drawImage(n,2770,740,300,35,590,520,300,35),t.drawImage(n,1964,933,1124,152,0,565,890,120),t.beginPath(),t.moveTo(910,12),t.lineTo(910,e.height-12),t.stroke();var r=940,o=280;t.drawImage(n,1964,1422,r,70,930,15,r,70),t.drawImage(n,2070,1634,r,o,930,100,r,o),t.drawImage(n,2070,2048,r,o,930,404,r,o)}}}},e=>{e.O(0,[660],(()=>{return t=680,e(e.s=t);var t}));e.O()}]);